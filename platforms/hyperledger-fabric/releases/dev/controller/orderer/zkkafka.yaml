apiVersion: helm.fluxcd.io/v1
kind: HelmRelease
metadata:
  name: zkkafka-controller-orderer
  namespace: controller-net
  annotations:
    fluxcd.io/automated: "false"
spec:
  releaseName: zkkafka-controller-orderer
  chart:
    git: https://github.com/ayhamkassab/blockchain-automation-framework.git
    ref: master
    path: platforms/hyperledger-fabric/charts/zkkafka    
  values:
    metadata: 
      namespace: controller-net
      images:
        kafka: hyperledger/fabric-kafka:0.4.18
        zookeeper: hyperledger/fabric-zookeeper:0.4.18
    storage: 
      storageclassname: controllersc
      storagesize: 512Mi
    kafka: 
      brokerservicename: broker
      name: kafka
      replicas: 3    
    zookeeper: 
      name: zookeeper
      peerservicename: zoo
      readinesscheckinterval: 10
      readinessthreshold: 10
      replicas: 3